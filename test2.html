<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmos Oracle - Premium Edition</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root { --p-color: #00d2ff; --s-color: #9d50bb; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow-x: hidden; font-family: 'Inter', sans-serif; background: #050505; color: white; }

        /* CANLI KOSMOS FONU */
        #canvas-stars { position: fixed; top: 0; left: 0; z-index: -1; }

        .app-wrapper { display: flex; flex-direction: column; align-items: center; padding: 40px 20px; }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 40px;
            padding: 40px;
            width: 100%;
            max-width: 600px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
            text-align: center;
        }

        .title-neon {
            font-size: 2.5rem; font-weight: 900; margin: 0;
            background: linear-gradient(to right, #00d2ff, #9d50bb);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 10px rgba(0,210,255,0.5));
        }

        .section-box { background: rgba(0,0,0,0.3); padding: 20px; border-radius: 20px; margin: 20px 0; border: 1px solid rgba(255,255,255,0.05); }

        input {
            width: 90%; padding: 15px; margin: 10px 0; border-radius: 15px; border: none;
            background: rgba(255,255,255,0.08); color: white; font-size: 1rem; transition: 0.3s;
        }
        input:focus { background: rgba(255,255,255,0.15); box-shadow: 0 0 15px var(--p-color); outline: none; }

        .btn-main {
            background: linear-gradient(45deg, #00d2ff, #9d50bb);
            color: white; border: none; padding: 18px 40px; border-radius: 50px;
            font-weight: bold; cursor: pointer; transition: 0.4s; margin: 10px;
            text-transform: uppercase; letter-spacing: 1px;
        }
        .btn-main:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 10px 25px rgba(157, 80, 187, 0.4); }

        /* KART Dƒ∞ZAYNI (Y√úKL∆èN∆èN Hƒ∞SS∆è) */
        #capture-area { padding: 30px; border-radius: 30px; background: #000; position: relative; display: none; margin-top: 30px; border: 2px solid gold; }
        
        .badge { background: rgba(0,210,255,0.2); color: #00d2ff; padding: 5px 15px; border-radius: 10px; font-size: 0.8rem; margin: 5px; display: inline-block; }

        /* MODAL */
        #overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.9); display:none; justify-content:center; align-items:center; z-index:1000; }
    </style>
</head>
<body>

<canvas id="canvas-stars"></canvas>
<audio id="bg-sound" loop src="https://www.soundjay.com/misc/sounds/bell-ringing-01.mp3"></audio>

<div class="app-wrapper">
    <div class="glass-panel">
        <h1 class="title-neon">COSMOS ORACLE</h1>
        <p style="opacity: 0.6;">Kainatƒ±n sirl…ôri s…ôni g√∂zl…ôyir</p>

        <div class="section-box">
            <input type="text" id="name" placeholder="Adƒ±nƒ±z">
            <input type="date" id="birthdate">
            <div style="display: flex; justify-content: center;">
                <button class="btn-main" onclick="processAll()">Talehini A√ß üå†</button>
            </div>
        </div>

        <div class="section-box" id="numerology-hint" style="font-size: 0.9rem; color: #ffeb3b;"></div>
    </div>

    <div id="capture-area">
        <div id="output-content"></div>
        <div style="margin-top: 20px;">
            <button class="btn-main" style="font-size: 0.7rem; padding: 10px 20px;" onclick="downloadCard()">≈û…ôkli Y√ºkl…ô üì•</button>
        </div>
    </div>
</div>

<script>
    // 1. ULDUZ FONU
    const canvas = document.getElementById('canvas-stars');
    const ctx = canvas.getContext('2d');
    let stars = [];
    function initStars() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        for(let i=0; i<200; i++) stars.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*1.5, d: Math.random()*0.5});
    }
    function drawStars() {
        ctx.clearRect(0,0,canvas.width, canvas.height);
        ctx.fillStyle = "white";
        stars.forEach(s => {
            ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); ctx.fill();
            s.y -= s.d; if(s.y < 0) s.y = canvas.height;
        });
        requestAnimationFrame(drawStars);
    }
    initStars(); drawStars();

    // 2. LOGƒ∞KA
    const zodiacs = [
        { name: "Qo√ß", emoji: "‚ôà", element: "Od", desc: "S…ôn doƒüulmu≈ü lider v…ô pioners…ôn." },
        { name: "Buƒüa", emoji: "‚ôâ", element: "Torpaq", desc: "S…ôdaq…ôt v…ô g√ºc s…ônin simvolundur." },
        { name: "∆èkizl…ôr", emoji: "‚ôä", element: "Hava", desc: "Z…ôka v…ô s√ºr…ôtli d√º≈ü√ºnc…ônin ustasƒ±." },
        { name: "X…ôr√ß…ông", emoji: "‚ôã", element: "Su", desc: "D…ôrin duyƒüularƒ±n v…ô ail…ônin qoruyucusu." },
        { name: "≈ûir", emoji: "‚ôå", element: "Od", desc: "Parlaq g√ºn…ô≈ü t…ôk h…ôr k…ôsi heyran edirs…ôn." },
        { name: "Qƒ±z", emoji: "‚ôç", element: "Torpaq", desc: "M√ºk…ômm…ôllik v…ô d…ôqiqlik s…ônin ruhundadƒ±r." },
        { name: "T…ôr…ôzi", emoji: "‚ôé", element: "Hava", desc: "G√∂z…ôllik v…ô …ôdal…ôtin t…ôr…ôfdarƒ±." },
        { name: "∆èqr…ôb", emoji: "‚ôè", element: "Su", desc: "Sirli, g√ºcl√º v…ô d…ôrin bir xarakter." },
        { name: "Oxatan", emoji: "‚ôê", element: "Od", desc: "Azadlƒ±q v…ô mac…ôra s…ônin h…ôyatƒ±ndƒ±r." },
        { name: "Oƒülaq", emoji: "‚ôë", element: "Torpaq", desc: "Zirv…ôl…ôr…ô doƒüru addƒ±mlayan inadkar ruh." },
        { name: "Dol√ßa", emoji: "‚ôí", element: "Hava", desc: "G…ôl…ôc…ôyi g√∂r…ôn yaradƒ±cƒ± z…ôka." },
        { name: "Balƒ±qlar", emoji: "‚ôì", element: "Su", desc: "X…ôyallarƒ±n v…ô sonsuz ≈ü…ôfq…ôtin m…ônb…ôyi." }
    ];

    function calculateNumerology(name) {
        let sum = 0;
        for(let i=0; i<name.length; i++) sum += name.charCodeAt(i);
        return (sum % 9) + 1;
    }

    function processAll() {
        const name = document.getElementById('name').value;
        const date = document.getElementById('birthdate').value;
        if(!name || !date) return alert("Ulduzlar m…ôlumat g√∂zl…ôyir!");

        document.getElementById('bg-sound').play();
        const d = new Date(date);
        const m = d.getMonth() + 1;
        const day = d.getDate();
        
        // Sad…ô b√ºrc tapma
        let zIdx = 0;
        if ((m==3 && day>=21) || (m==4 && day<=19)) zIdx=0;
        else if ((m==4 && day>=20) || (m==5 && day<=20)) zIdx=1;
        else if ((m==5 && day>=21) || (m==6 && day<=20)) zIdx=2;
        else if ((m==6 && day>=21) || (m==7 && day<=22)) zIdx=3;
        else if ((m==7 && day>=23) || (m==8 && day<=22)) zIdx=4;
        else if ((m==8 && day>=23) || (m==9 && day<=22)) zIdx=5;
        else if ((m==9 && day>=23) || (m==10 && day<=22)) zIdx=6;
        else if ((m==10 && day>=23) || (m==11 && day<=21)) zIdx=7;
        else if ((m==11 && day>=22) || (m==12 && day<=21)) zIdx=8;
        else if ((m==12 && day>=22) || (m==1 && day<=19)) zIdx=9;
        else if ((m==1 && day>=20) || (m==2 && day<=18)) zIdx=10;
        else zIdx=11;

        const z = zodiacs[zIdx];
        const num = calculateNumerology(name);

        const area = document.getElementById('capture-area');
        area.style.display = 'block';
        document.getElementById('output-content').innerHTML = `
            <h2 style="color:gold; margin:0;">${name.toUpperCase()}</h2>
            <div style="font-size: 80px; margin: 10px 0;">${z.emoji}</div>
            <h3 style="letter-spacing: 5px;">${z.name}</h3>
            <div class="badge">Element: ${z.element}</div>
            <div class="badge">H…ôyat Yolu: ${num}</div>
            <p style="padding: 10px; line-height: 1.5; color: #ccc;">${z.desc}</p>
            <div style="border-top: 1px solid #333; padding-top: 10px; font-size: 0.8rem;">
                üîÆ S…ônin √º√ß√ºn ulduz mesajƒ±: "Bu il s…ônin √º√ß√ºn d√∂n√º≈ü n√∂qt…ôsi olacaq. √ñz g√ºc√ºn…ô inan!"
            </div>
        `;
        
        window.scrollTo({ top: area.offsetTop, behavior: 'smooth' });
    }

    function downloadCard() {
        const area = document.getElementById('capture-area');
        html2canvas(area, { backgroundColor: "#000" }).then(canvas => {
            const link = document.createElement('a');
            link.download = 'falƒ±m-cosmos.png';
            link.href = canvas.toDataURL();
            link.click();
        });
    }
</script>

</body>
</html>
